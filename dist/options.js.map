{"version":3,"file":"options.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://imageurlcpy/./src/locales/zh_CN.ts","webpack://imageurlcpy/./src/locales/en.ts","webpack://imageurlcpy/./src/locales/ja.ts","webpack://imageurlcpy/./src/locales/fr.ts","webpack://imageurlcpy/./src/locales/es.ts","webpack://imageurlcpy/./src/utils/i18n.ts","webpack://imageurlcpy/./src/options.ts"],"sourcesContent":["export const zh_CN = {\n    appName: \"ImageURLcpy\",\n    appDesc: \"快速捕获并复制网页中的图片URL\",\n    popup: {\n        title: \"ImageURLcpy\",\n        desc: \"点击下方按钮开始捕获图片URL\",\n        statusStandby: \"待机中\",\n        statusCapturing: \"正在捕获...\",\n        statusSuccess: \"已复制！\",\n        copiedCount: \"已捕获: {count} 个链接\",\n        btnStart: \"开始捕获\",\n        btnStop: \"停止捕获\",\n        tip: \"悬停图片显示高亮，点击复制URL\",\n        btnSettings: \"设置\"\n    },\n    options: {\n        title: \"ImageURLcpy 设置\",\n        subtitle: \"配置复制URL时的前缀和后缀\",\n        singleUrl: {\n            title: \"单个URL格式\",\n            desc: \"当只捕获一个图片时使用此格式\",\n            prefixObj: \"前缀\",\n            suffixObj: \"后缀\",\n            prefixPlaceholder: \"例如: <img src=&quot;\",\n            suffixPlaceholder: '例如: &quot;>',\n            preview: \"预览\"\n        },\n        multiUrl: {\n            title: \"多个URL格式\",\n            desc: \"当捕获多个图片时，分别设置首个、中间、最后一个URL的格式\",\n            first: {\n                title: \"首个URL\",\n                prefix: \"前缀\",\n                suffix: \"后缀\"\n            },\n            middle: {\n                title: \"中间URL\",\n                prefix: \"前缀\",\n                suffix: \"后缀\"\n            },\n            last: {\n                title: \"最后一个URL\",\n                prefix: \"前缀\",\n                suffix: \"后缀\"\n            },\n            preview: \"预览（3个URL示例）\"\n        },\n        actions: {\n            save: \"保存设置\",\n            reset: \"重置为默认\",\n            savedMsg: \"设置已保存\",\n            resetMsg: \"已恢复默认设置\"\n        },\n        language: {\n            label: \"语言 / Language\"\n        }\n    },\n    content: {\n        toast: {\n            linkCopied: \"链接已拷贝：{url}\",\n            copyFailed: \"复制失败，请重试\",\n            alreadyCaptured: \"该链接已经捕获过了\",\n            startStats: \"图片捕获模式已开启，点击图片复制URL\",\n            stopStats: \"已复制 {count} 个图片链接到剪贴板\",\n            noImageCaptured: \"捕获结束，未捕获任何图片\"\n        },\n        button: {\n            stop: \"停止捕获\"\n        }\n    },\n    contextMenu: {\n        startCapture: \"开始捕获图片URL\"\n    }\n};\n","export const en = {\n    appName: \"ImageURLcpy\",\n    appDesc: \"Quickly capture and copy image URLs from web pages\",\n    popup: {\n        title: \"ImageURLcpy\",\n        desc: \"Click the button below to start capturing image URLs\",\n        statusStandby: \"Standby\",\n        statusCapturing: \"Capturing...\",\n        statusSuccess: \"Copied!\",\n        copiedCount: \"Captured: {count} link(s)\",\n        btnStart: \"Start Capturing\",\n        btnStop: \"Stop Capturing\",\n        tip: \"Hover to highlight, click to copy URL\",\n        btnSettings: \"Settings\"\n    },\n    options: {\n        title: \"ImageURLcpy Settings\",\n        subtitle: \"Configure prefixes and suffixes for copied URLs\",\n        singleUrl: {\n            title: \"Single URL Format\",\n            desc: \"Format used when capturing a single image\",\n            prefixObj: \"Prefix\",\n            suffixObj: \"Suffix\",\n            prefixPlaceholder: 'e.g. <img src=\"',\n            suffixPlaceholder: 'e.g. \">\"',\n            preview: \"Preview\"\n        },\n        multiUrl: {\n            title: \"Multiple URL Format\",\n            desc: \"Set formats for the first, middle, and last URLs when capturing multiple images\",\n            first: {\n                title: \"First URL\",\n                prefix: \"Prefix\",\n                suffix: \"Suffix\"\n            },\n            middle: {\n                title: \"Middle URL\",\n                prefix: \"Prefix\",\n                suffix: \"Suffix\"\n            },\n            last: {\n                title: \"Last URL\",\n                prefix: \"Prefix\",\n                suffix: \"Suffix\"\n            },\n            preview: \"Preview (3 URLs example)\"\n        },\n        actions: {\n            save: \"Save Settings\",\n            reset: \"Reset to Default\",\n            savedMsg: \"Settings saved\",\n            resetMsg: \"Reset to default settings\"\n        },\n        language: {\n            label: \"Language\"\n        }\n    },\n    content: {\n        toast: {\n            linkCopied: \"Link copied: {url}\",\n            copyFailed: \"Copy failed, please try again\",\n            alreadyCaptured: \"This link has already been captured\",\n            startStats: \"Capture mode started. Click images to copy URL\",\n            stopStats: \"Copied {count} image URLs to clipboard\",\n            noImageCaptured: \"Capture ended. No images captured\"\n        },\n        button: {\n            stop: \"Stop Capture\"\n        }\n    },\n    contextMenu: {\n        startCapture: \"Start Capture Image URL\"\n    }\n};\n","export const ja = {\n    appName: \"ImageURLcpy\",\n    appDesc: \"Webページの画像URLを素早くキャプチャしてコピーします\",\n    popup: {\n        title: \"ImageURLcpy\",\n        desc: \"下のボタンをクリックして画像のキャプチャを開始します\",\n        statusStandby: \"待機中\",\n        statusCapturing: \"キャプチャ中...\",\n        statusSuccess: \"コピーしました！\",\n        copiedCount: \"取得数: {count} 件\",\n        btnStart: \"キャプチャ開始\",\n        btnStop: \"キャプチャ停止\",\n        tip: \"ホバーで強調表示、クリックでURLをコピー\",\n        btnSettings: \"設定\"\n    },\n    options: {\n        title: \"ImageURLcpy 設定\",\n        subtitle: \"コピーするURLの接頭辞と接尾辞を設定します\",\n        singleUrl: {\n            title: \"単一URLの形式\",\n            desc: \"画像を1つだけキャプチャする場合に使用されます\",\n            prefixObj: \"接頭辞 (Prefix)\",\n            suffixObj: \"接尾辞 (Suffix)\",\n            prefixPlaceholder: '例: <img src=\"',\n            suffixPlaceholder: '例: \">\"',\n            preview: \"プレビュー\"\n        },\n        multiUrl: {\n            title: \"複数URLの形式\",\n            desc: \"複数の画像をキャプチャする場合の最初、中間、最後のURL形式を設定します\",\n            first: {\n                title: \"最初のURL\",\n                prefix: \"接頭辞\",\n                suffix: \"接尾辞\"\n            },\n            middle: {\n                title: \"中間のURL\",\n                prefix: \"接頭辞\",\n                suffix: \"接尾辞\"\n            },\n            last: {\n                title: \"最後のURL\",\n                prefix: \"接頭辞\",\n                suffix: \"接尾辞\"\n            },\n            preview: \"プレビュー（3件の例）\"\n        },\n        actions: {\n            save: \"設定を保存\",\n            reset: \"初期設定に戻す\",\n            savedMsg: \"設定を保存しました\",\n            resetMsg: \"初期設定に戻しました\"\n        },\n        language: {\n            label: \"言語 / Language\"\n        }\n    },\n    content: {\n        toast: {\n            linkCopied: \"リンクをコピーしました: {url}\",\n            copyFailed: \"コピーに失敗しました。もう一度お試しください\",\n            alreadyCaptured: \"このリンクはすでに取得済みです\",\n            startStats: \"キャプチャモードを開始しました。画像をクリックしてURLをコピー\",\n            stopStats: \"{count} 個の画像URLをクリップボードにコピーしました\",\n            noImageCaptured: \"キャプチャを終了しました。画像は取得されませんでした\"\n        },\n        button: {\n            stop: \"キャプチャ停止\"\n        }\n    },\n    contextMenu: {\n        startCapture: \"画像URLのキャプチャを開始\"\n    }\n};\n","export const fr = {\n    appName: \"ImageURLcpy\",\n    appDesc: \"Capturez et copiez rapidement les URL d'images des pages Web\",\n    popup: {\n        title: \"ImageURLcpy\",\n        desc: \"Cliquez ci-dessous pour commencer à capturer les URL\",\n        statusStandby: \"En attente\",\n        statusCapturing: \"Capture en cours...\",\n        statusSuccess: \"Copié !\",\n        copiedCount: \"Capturé : {count} lien(s)\",\n        btnStart: \"Commencer\",\n        btnStop: \"Arrêter\",\n        tip: \"Survolez pour mettre en surbrillance, cliquez pour copier\",\n        btnSettings: \"Paramètres\"\n    },\n    options: {\n        title: \"Paramètres ImageURLcpy\",\n        subtitle: \"Configurer les préfixes et suffixes pour les URL copiées\",\n        singleUrl: {\n            title: \"Format URL unique\",\n            desc: \"Format utilisé lors de la capture d'une seule image\",\n            prefixObj: \"Préfixe\",\n            suffixObj: \"Suffixe\",\n            prefixPlaceholder: 'ex: <img src=\"',\n            suffixPlaceholder: 'ex: \">\"',\n            preview: \"Aperçu\"\n        },\n        multiUrl: {\n            title: \"Format URL multiple\",\n            desc: \"Définir les formats pour la première, les intermédiaires et la dernière URL\",\n            first: {\n                title: \"Première URL\",\n                prefix: \"Préfixe\",\n                suffix: \"Suffixe\"\n            },\n            middle: {\n                title: \"URL intermédiaire\",\n                prefix: \"Préfixe\",\n                suffix: \"Suffixe\"\n            },\n            last: {\n                title: \"Dernière URL\",\n                prefix: \"Préfixe\",\n                suffix: \"Suffixe\"\n            },\n            preview: \"Aperçu (exemple de 3 URL)\"\n        },\n        actions: {\n            save: \"Enregistrer\",\n            reset: \"Rétablir par défaut\",\n            savedMsg: \"Paramètres enregistrés\",\n            resetMsg: \"Paramètres rétablis par défaut\"\n        },\n        language: {\n            label: \"Langue / Language\"\n        }\n    },\n    content: {\n        toast: {\n            linkCopied: \"Lien copié : {url}\",\n            copyFailed: \"Échec de la copie, veuillez réessayer\",\n            alreadyCaptured: \"Ce lien a déjà été capturé\",\n            startStats: \"Mode capture activé. Cliquez sur les images pour copier l'URL\",\n            stopStats: \"{count} URL d'images copiées dans le presse-papiers\",\n            noImageCaptured: \"Capture terminée. Aucune image capturée\"\n        },\n        button: {\n            stop: \"Arrêter la capture\"\n        }\n    },\n    contextMenu: {\n        startCapture: \"Démarrer la capture d'URL d'image\"\n    }\n};\n","export const es = {\n    appName: \"ImageURLcpy\",\n    appDesc: \"Captura y copia rápidamente URLs de imágenes de páginas web\",\n    popup: {\n        title: \"ImageURLcpy\",\n        desc: \"Haga clic abajo para comenzar a capturar URLs\",\n        statusStandby: \"En espera\",\n        statusCapturing: \"Capturando...\",\n        statusSuccess: \"¡Copiado!\",\n        copiedCount: \"Capturado: {count} enlace(s)\",\n        btnStart: \"Comenzar\",\n        btnStop: \"Detener\",\n        tip: \"Pase el cursor para resaltar, haga clic para copiar\",\n        btnSettings: \"Configuración\"\n    },\n    options: {\n        title: \"Configuración de ImageURLcpy\",\n        subtitle: \"Configurar prefijos y sufijos para las URLs copiadas\",\n        singleUrl: {\n            title: \"Formato de URL única\",\n            desc: \"Formato utilizado al capturar una sola imagen\",\n            prefixObj: \"Prefijo\",\n            suffixObj: \"Sufijo\",\n            prefixPlaceholder: 'ej: <img src=\"',\n            suffixPlaceholder: 'ej: \">\"',\n            preview: \"Vista previa\"\n        },\n        multiUrl: {\n            title: \"Formato de múltiples URLs\",\n            desc: \"Establecer formatos para la primera, intermedias y última URL\",\n            first: {\n                title: \"Primera URL\",\n                prefix: \"Prefijo\",\n                suffix: \"Sufijo\"\n            },\n            middle: {\n                title: \"URL intermedia\",\n                prefix: \"Prefijo\",\n                suffix: \"Sufijo\"\n            },\n            last: {\n                title: \"Última URL\",\n                prefix: \"Prefijo\",\n                suffix: \"Sufijo\"\n            },\n            preview: \"Vista previa (ejemplo de 3 URLs)\"\n        },\n        actions: {\n            save: \"Guardar\",\n            reset: \"Restablecer\",\n            savedMsg: \"Configuración guardada\",\n            resetMsg: \"Configuración restablecida\"\n        },\n        language: {\n            label: \"Idioma / Language\"\n        }\n    },\n    content: {\n        toast: {\n            linkCopied: \"Enlace copiado: {url}\",\n            copyFailed: \"Error al copiar, inténtelo de nuevo\",\n            alreadyCaptured: \"Este enlace ya ha sido capturado\",\n            startStats: \"Modo de captura iniciado. Haga clic en las imágenes para copiar la URL\",\n            stopStats: \"Copiadas {count} URL de imágenes al portapapeles\",\n            noImageCaptured: \"Captura finalizada. No se capturaron imágenes\"\n        },\n        button: {\n            stop: \"Detener captura\"\n        }\n    },\n    contextMenu: {\n        startCapture: \"Iniciar captura de URL de imagen\"\n    }\n};\n","import { zh_CN } from '../locales/zh_CN';\nimport { en } from '../locales/en';\nimport { ja } from '../locales/ja';\nimport { fr } from '../locales/fr';\nimport { es } from '../locales/es';\nexport const LANGUAGES = [\n    { code: 'zh_CN', name: '简体中文' },\n    { code: 'en', name: 'English' },\n    { code: 'ja', name: '日本語' },\n    { code: 'fr', name: 'Français' },\n    { code: 'es', name: 'Español' }\n];\nconst locales = {\n    zh_CN,\n    en,\n    ja,\n    fr,\n    es\n};\nexport class I18n {\n    constructor() {\n        this.currentLang = 'zh_CN';\n        this.listeners = [];\n    }\n    static getInstance() {\n        if (!I18n.instance) {\n            I18n.instance = new I18n();\n        }\n        return I18n.instance;\n    }\n    async init() {\n        // Try to get from storage first\n        const stored = await chrome.storage.sync.get(['language']);\n        if (stored.language && locales[stored.language]) {\n            this.currentLang = stored.language;\n        }\n        else {\n            // Fallback to browser language matching\n            const browserLang = navigator.language.replace('-', '_');\n            if (browserLang.startsWith('zh')) {\n                this.currentLang = 'zh_CN';\n            }\n            else if (browserLang.startsWith('ja')) {\n                this.currentLang = 'ja';\n            }\n            else if (browserLang.startsWith('fr')) {\n                this.currentLang = 'fr';\n            }\n            else if (browserLang.startsWith('es')) {\n                this.currentLang = 'es';\n            }\n            else {\n                this.currentLang = 'en'; // Default fallback\n            }\n        }\n        console.log('I18n initialized with language:', this.currentLang);\n    }\n    getLanguage() {\n        return this.currentLang;\n    }\n    async setLanguage(lang) {\n        if (!locales[lang])\n            return;\n        this.currentLang = lang;\n        await chrome.storage.sync.set({ language: lang });\n        this.notifyListeners();\n    }\n    getMessage(keyPath, params) {\n        const keys = keyPath.split('.');\n        let current = locales[this.currentLang];\n        for (const key of keys) {\n            if (current && current[key] !== undefined) {\n                current = current[key];\n            }\n            else {\n                console.warn(`Missing translation for key: ${keyPath} in ${this.currentLang}`);\n                return keyPath;\n            }\n        }\n        if (typeof current === 'string') {\n            let result = current;\n            if (params) {\n                Object.entries(params).forEach(([k, v]) => {\n                    result = result.replace(`{${k}}`, String(v));\n                });\n            }\n            return result;\n        }\n        return keyPath;\n    }\n    subscribe(listener) {\n        this.listeners.push(listener);\n    }\n    notifyListeners() {\n        this.listeners.forEach(l => l());\n    }\n    /**\n     * Renders all elements with data-i18n attribute in the given root element (or document body)\n     */\n    render(root = document) {\n        const elements = root.querySelectorAll('[data-i18n], [data-i18n-placeholder], [data-i18n-title]');\n        elements.forEach(el => {\n            const key = el.getAttribute('data-i18n');\n            if (key) {\n                const text = this.getMessage(key);\n                // Preserve placeholder text if it's an input\n                if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) {\n                    if (el.hasAttribute('placeholder')) {\n                        // If we want to translate placeholders, we might need data-i18n-placeholder\n                        const placeholderKey = el.getAttribute('data-i18n-placeholder');\n                        if (placeholderKey) {\n                            el.placeholder = this.getMessage(placeholderKey);\n                        }\n                    }\n                }\n                else {\n                    el.textContent = text;\n                }\n            }\n            // Handle specific attribute translations if needed (e.g. data-i18n-title)\n            const titleKey = el.getAttribute('data-i18n-title');\n            if (titleKey) {\n                el.setAttribute('title', this.getMessage(titleKey));\n            }\n            const placeholderKey = el.getAttribute('data-i18n-placeholder');\n            if (placeholderKey && (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement)) {\n                el.placeholder = this.getMessage(placeholderKey);\n            }\n        });\n    }\n}\n","import { I18n } from './utils/i18n';\nconst DEFAULT_SETTINGS = {\n    singlePrefix: '',\n    singleSuffix: '',\n    firstPrefix: '',\n    firstSuffix: '',\n    middlePrefix: '',\n    middleSuffix: '',\n    lastPrefix: '',\n    lastSuffix: ''\n};\n// DOM Elements\nconst elements = {\n    singlePrefix: document.getElementById('singlePrefix'),\n    singleSuffix: document.getElementById('singleSuffix'),\n    firstPrefix: document.getElementById('firstPrefix'),\n    firstSuffix: document.getElementById('firstSuffix'),\n    middlePrefix: document.getElementById('middlePrefix'),\n    middleSuffix: document.getElementById('middleSuffix'),\n    lastPrefix: document.getElementById('lastPrefix'),\n    lastSuffix: document.getElementById('lastSuffix'),\n    singlePreview: document.getElementById('singlePreview'),\n    multiPreview: document.getElementById('multiPreview'),\n    saveBtn: document.getElementById('saveBtn'),\n    resetBtn: document.getElementById('resetBtn'),\n    status: document.getElementById('status'),\n    languageSelect: document.getElementById('languageSelect')\n};\nconst i18n = I18n.getInstance();\n// Load settings from storage\nfunction loadSettings() {\n    chrome.storage.sync.get(DEFAULT_SETTINGS, (items) => {\n        const settings = items;\n        elements.singlePrefix.value = settings.singlePrefix;\n        elements.singleSuffix.value = settings.singleSuffix;\n        elements.firstPrefix.value = settings.firstPrefix;\n        elements.firstSuffix.value = settings.firstSuffix;\n        elements.middlePrefix.value = settings.middlePrefix;\n        elements.middleSuffix.value = settings.middleSuffix;\n        elements.lastPrefix.value = settings.lastPrefix;\n        elements.lastSuffix.value = settings.lastSuffix;\n        updatePreviews();\n    });\n}\n// Save settings to storage\nfunction saveSettings() {\n    const settings = {\n        singlePrefix: elements.singlePrefix.value,\n        singleSuffix: elements.singleSuffix.value,\n        firstPrefix: elements.firstPrefix.value,\n        firstSuffix: elements.firstSuffix.value,\n        middlePrefix: elements.middlePrefix.value,\n        middleSuffix: elements.middleSuffix.value,\n        lastPrefix: elements.lastPrefix.value,\n        lastSuffix: elements.lastSuffix.value\n    };\n    chrome.storage.sync.set(settings, () => {\n        showStatus(i18n.getMessage('options.actions.savedMsg'), 'success');\n    });\n}\n// Reset to default settings\nfunction resetSettings() {\n    chrome.storage.sync.set(DEFAULT_SETTINGS, () => {\n        elements.singlePrefix.value = DEFAULT_SETTINGS.singlePrefix;\n        elements.singleSuffix.value = DEFAULT_SETTINGS.singleSuffix;\n        elements.firstPrefix.value = DEFAULT_SETTINGS.firstPrefix;\n        elements.firstSuffix.value = DEFAULT_SETTINGS.firstSuffix;\n        elements.middlePrefix.value = DEFAULT_SETTINGS.middlePrefix;\n        elements.middleSuffix.value = DEFAULT_SETTINGS.middleSuffix;\n        elements.lastPrefix.value = DEFAULT_SETTINGS.lastPrefix;\n        elements.lastSuffix.value = DEFAULT_SETTINGS.lastSuffix;\n        updatePreviews();\n        showStatus(i18n.getMessage('options.actions.resetMsg'), 'success');\n    });\n}\n// Update preview displays\nfunction updatePreviews() {\n    const singlePrefix = elements.singlePrefix.value || '';\n    const singleSuffix = elements.singleSuffix.value || '';\n    const firstPrefix = elements.firstPrefix.value || '';\n    const firstSuffix = elements.firstSuffix.value || '';\n    const middlePrefix = elements.middlePrefix.value || '';\n    const middleSuffix = elements.middleSuffix.value || '';\n    const lastPrefix = elements.lastPrefix.value || '';\n    const lastSuffix = elements.lastSuffix.value || '';\n    // Single URL preview\n    elements.singlePreview.textContent = `${singlePrefix}https://example.com/image.jpg${singleSuffix}`;\n    // Multiple URLs preview\n    elements.multiPreview.textContent =\n        `${firstPrefix}https://example.com/image1.jpg${firstSuffix}\\n` +\n            `${middlePrefix}https://example.com/image2.jpg${middleSuffix}\\n` +\n            `${lastPrefix}https://example.com/image3.jpg${lastSuffix}`;\n}\n// Show status message\nfunction showStatus(message, type) {\n    elements.status.textContent = message;\n    elements.status.className = `status ${type}`;\n    elements.status.style.display = 'block';\n    setTimeout(() => {\n        elements.status.style.display = 'none';\n    }, 3000);\n}\n// Handle Language Change\nasync function handleLanguageChange() {\n    const newLang = elements.languageSelect.value;\n    await i18n.setLanguage(newLang);\n    // Reload UI strings\n    i18n.render();\n}\n// Initialize\ndocument.addEventListener('DOMContentLoaded', async () => {\n    // Initialize I18n\n    await i18n.init();\n    i18n.render();\n    // Set existing language in selector\n    elements.languageSelect.value = i18n.getLanguage();\n    loadSettings();\n    // Event listeners\n    elements.saveBtn.addEventListener('click', saveSettings);\n    elements.resetBtn.addEventListener('click', resetSettings);\n    elements.languageSelect.addEventListener('change', handleLanguageChange);\n    // Update previews on input change\n    const inputs = [\n        elements.singlePrefix, elements.singleSuffix,\n        elements.firstPrefix, elements.firstSuffix,\n        elements.middlePrefix, elements.middleSuffix,\n        elements.lastPrefix, elements.lastSuffix\n    ];\n    inputs.forEach(input => {\n        input.addEventListener('input', updatePreviews);\n    });\n});\n"],"names":[],"ignoreList":[],"sourceRoot":""}